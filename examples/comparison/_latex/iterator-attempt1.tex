\lstset{language=,caption=\textit{JavaIterator.protocol}}
\begin{code}
typestate JavaIterator {
    HasNext = {
        boolean hasNext(): <true: Next, false: end>
    }
    Next = {
        boolean hasNext(): <true: Next, false: end>,
        Object next(): HasNext
    }
}\end{code}

\lstset{language=Java,caption=\textit{Main.java}}
\begin{code}
import java.util.*;

public class Main {
	public static void main(String[] args) {
    Iterator<String> it = Arrays.asList(args).iterator();
    System.out.println(it.next());
	}
}\end{code}

\lstset{language=,caption=Mungo's output}
\begin{code}
None
\end{code}

\lstset{language=,caption=Our tool's output}
\begin{code}
Main.java:6: error: Incompatible parameter because Shared{java.lang.Object} | Null is not a subtype of Shared{java.lang.String} | Null
    System.out.println(it.next());
                              ^
1 error\end{code}

