\lstset{language=,caption=\textit{JavaIterator.protocol}}
\begin{code}
typestate JavaIterator {
    HasNext = {
        boolean hasNext(): <true: Next, false: end>
    }
    Next = {
        boolean hasNext(): <true: Next, false: end>,
        Object next(): HasNext
    }
}\end{code}

\lstset{language=Java,caption=\textit{Main.java}}
\begin{code}
import java.util.*;

public class Main {
	public static void main(String[] args) {
    Iterator<String> it = Arrays.asList(args).iterator();
    System.out.println(it.next());
	}
}\end{code}

\lstset{language=,caption=Mungo's output}
\begin{code}
None
\end{code}

\lstset{language=,caption=Our tool's output}
\begin{code}
Main.java:6: error: [argument.type.incompatible] incompatible types in argument.
    System.out.println(it.next());
                              ^
  found   : NoProtocol | Null /*INFERENCE FAILED for:*/ ? extends String
  required: NoProtocol String
Main.java:6: error: [Cannot call next on state HasNext (got: HasNext)] (Cannot call next on state HasNext (got: HasNext))
    System.out.println(it.next());
                              ^
2 errors\end{code}

