\lstset{language=,caption=\textit{MyComparatorProtocol.protocol}}
\begin{code}
typestate MyComparatorProtocol {
  Start = {
    int compare(int, int): Start,
    drop: end
  }
}\end{code}

\lstset{language=Java,caption=\textit{MyComparator.java}}
\begin{code}
import mungo.lib.Typestate;

@Typestate("MyComparatorProtocol")
public class MyComparator {
  public int compare(int a, int b) {
    return a < b ? -1 : a > b ? 1 : 0;
  }
}\end{code}

\lstset{language=Java,caption=\textit{Ok.java}}
\begin{code}
public class Ok {
	public static void main(String[] args) {
		MyComparator comparator = new MyComparator();
    System.out.println(comparator.compare(10, 5));
	}
}\end{code}

\lstset{language=,caption=Mungo's output}
\begin{code}

MyComparator.java: 0-0: Semantic Error
		Cannot find typestate MyComparatorProtocol defined for class MyComparator.

MyComparator.java: 0-0: Semantic Error
		Cannot find typestate MyComparatorProtocol defined for class MyComparator.
MyComparatorProtocol.protocol:4,9: error: unexpected token ":"\end{code}

\lstset{language=,caption=Our tool's output}
\begin{code}
MyComparator.java:6: error: [return.type.incompatible] incompatible types in return.
    return a < b ? -1 : a > b ? 1 : 0;
                 ^
  type of expression: Unknown int
  method return type: Primitive int
1 error\end{code}

