typestate SmartDeviceProtocol {

  IDLE = {
    void notify(double): NOTIFIED,
    drop: end
  }

  NOTIFIED =  {
    boolean isTrainingNeeded(): <true: TRAIN, false: NOTIFIED>,
    void ack(): IDLE
  }

  TRAIN = {
    void train(): NOTIFIED,
    void ack(): IDLE
  }

}
